#import Factory kivy.factory.Factory

<Cap1@Popup>:
    auto_dismiss: True
    size_hint: (.5, .5)
    title: ''
    BoxLayout:
        orientation: 'vertical'
        
        Label:
            text: 'Vestito Blu'
            size_hint_y: .4
            height: '44dp'
        
        Label:
            text: '50$'
            size_hint_y: .4
            height: '44dp'

        Button:
            text: 'BUY'
            size_hint_y: .2

<Cap2@Popup>:
    auto_dismiss: True
    size_hint: (.5, .5)
    title: ''
    BoxLayout:
        orientation: 'vertical'
        
        Label:
            text: 'Vestito Verde'
            size_hint_y: .4
            height: '44dp'
        
        Label:
            text: '50$'
            size_hint_y: .4
            height: '44dp'

        Button:
            text: 'BUY'
            size_hint_y: .2

<Cap3@Popup>:
    auto_dismiss: True
    size_hint: (.5, .5)
    title: ''
    BoxLayout:
        orientation: 'vertical'
        
        Label:
            text: 'Vestito Giallo'
            size_hint_y: .4
            height: '44dp'
        
        Label:
            text: '50$'
            size_hint_y: .4
            height: '44dp'

        Button:
            text: 'BUY'
            size_hint_y: .2

<P1@Popup>:
    auto_dismiss: True
    size_hint: (.5, .5)
    title: ''
    BoxLayout:
        orientation: 'vertical'
        
        Label:
            text: 'Bomb'
            size_hint_y: .4
            height: '44dp'
        
        Label:
            text: '50$'
            size_hint_y: .4
            height: '44dp'

        Button:
            text: 'BUY'
            size_hint_y: .2

<P2@Popup>:
    auto_dismiss: True
    size_hint: (.5, .5)
    title: ''
    BoxLayout:
        orientation: 'vertical'
        
        Label:
            text: 'Bomb'
            size_hint_y: .4
            height: '44dp'
        
        Label:
            text: '50$'
            size_hint_y: .4
            height: '44dp'

        Button:
            text: 'BUY'
            size_hint_y: .2

<P3@Popup>:
    auto_dismiss: True
    size_hint: (.5, .5)
    title: ''
    BoxLayout:
        orientation: 'vertical'
        
        Label:
            text: 'Bomb'
            size_hint_y: .4
            height: '44dp'
        
        Label:
            text: '50$'
            size_hint_y: .4
            height: '44dp'

        Button:
            text: 'BUY'
            size_hint_y: .2

<Market>:
    name: 'market'
    FloatLayout:
        Image:
            source: 'images/Concept_Art_pirate_market_stand_3.jpg'
            allow_stretch: True
            keep_ratio: False
            size_hint: (1, 1)  # Copre l'intero layout
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        
        BoxLayout:
            orientation: 'vertical'
            
            Label:
                text: 'This is our market:'
                font_size: 32
                font_name: 'fonts/Caribbean.ttf'  # Specifica il font personalizzato
            
            GridLayout:
                cols: 3
                spacing: '10dp'
                padding: '10dp'
                
                Button:
                    text: 'Dressing room'
                    font_name: 'fonts/Caribbean.ttf'
                    on_press: app.root.current = 'dressingRoom'
                
                Button:
                    text: 'Projectile store'
                    font_name: 'fonts/Caribbean.ttf'
                    on_press: app.root.current = 'projectileStore'

        Button:
            pos_hint: {'center_x': .05, 'center_y': .91}
            size_hint: (.1, .1)
            background_color: 0, 0, 0, 0
            on_press: app.root.current = 'mainpage'
            Image:
                source: 'images/homeButton.png'
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                size: 50, 50

<DressingRoom>:
    name: 'dressingRoom'
    FloatLayout:
        Image:
            source: 'images/Concept_Art_pirate_market_stand_3.jpg'
            allow_stretch: True
            keep_ratio: False
            size_hint: (1, 1)  # Copre l'intero layout
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                
        BoxLayout:
            orientation: 'vertical'
            
            Label:
                text: 'Choose your style:'
                font_size: 32
                font_name: 'fonts/Caribbean.ttf'  # Specifica il font personalizzato
            
            GridLayout:
                cols: 3
                spacing: '10dp'
                padding: '10dp'
                
                Button:
                    text: 'Cap1'
                    on_press: Factory.Cap1().open()
                
                Button:
                    text: 'Cap2'
                    on_press: Factory.Cap2().open()
                
                Button:
                    text: 'Cap3'
                    on_press: Factory.Cap3().open()

        Button:
            pos_hint: {'center_x': .05, 'center_y': .91}
            size_hint: (.1, .1)
            background_color: 0, 0, 0, 0
            on_press: app.root.current = 'market'
            Image:
                source: 'images/undo.png'
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                size: 50, 50


<ProjectileStore>:
    name: 'projectileStore'
    FloatLayout:
        Image:
            source: 'images/Concept_Art_pirate_market_stand_3.jpg'
            allow_stretch: True
            keep_ratio: False
            size_hint: (1, 1)  # Copre l'intero layout
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        
        BoxLayout:
            orientation: 'vertical'
            
            Label:
                text: 'Buy your projectiles'
                font_size: 32
                font_name: 'fonts/Caribbean.ttf'  # Specifica il font personalizzato
            
            GridLayout:
                cols: 3
                spacing: '10dp'
                padding: '10dp'
                
                Button:
                    text: 'P1'
                    on_press: Factory.P1().open()
                
                Button:
                    text: 'P2'
                    on_press: Factory.P2().open()
                
                Button:
                    text: 'P3'
                    on_press: Factory.P3().open()

        Button:
            pos_hint: {'center_x': .05, 'center_y': .91}
            size_hint: (.1, .1)
            background_color: 0, 0, 0, 0
            on_press: app.root.current = 'market'
            Image:
                source: 'images/undo.png'
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                size: 50, 50