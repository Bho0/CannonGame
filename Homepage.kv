#:import Factory kivy.factory.Factory

<VolPopup@Popup>:
    auto_dismiss: True
    size_hint: (.5, .3)
    title: 'Volume'
    BoxLayout:
        orientation: 'vertical'

        Label:
            text: "Music"
            font_name: 'fonts/Caribbean.ttf'

        Slider:
            id: slider
            value_track: True
            value_track_color: [0, 0, 1, 1]
            min: 0
            max: 1
            value: 0.5
            on_value: app.change_volume(self.value)

        Label:
            text: "Sounds"
            font_name: 'fonts/Caribbean.ttf'

        Slider:
            id: slider
            value_track: True
            value_track_color: [0, 0, 1, 1]

<HoF>:

<CredPopup@Popup>:
    auto_dismiss: True
    size_hint: (.5, .5)
    title: 'Credits'

<HomePage>:
    name: 'homepage'
    FloatLayout:
        Image:
            source: 'images/Default_pirate_ship_3.jpg'
            allow_stretch: True
            keep_ratio: False
            size_hint: (1, 1)  # Copre l'intero layout
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        BoxLayout:
            orientation: 'vertical'
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            size_hint: (1, .5)
            Button:
                text: 'New Game'
                color: 0, 0, 0, 1
                font_size: 52
                font_name: 'fonts/Caribbean.ttf'
                background_color: 0, 0, 0, 0 
                on_press:
                    app.add_newgame()
                    app.root.current = 'newgame'
            Button:
                text: 'Load Game'
                color: 0, 0, 0, 1
                font_size: 52
                font_name: 'fonts/Caribbean.ttf'
                background_color: 0, 0, 0, 0 
                on_press: app.root.current = 'loadgame'

        BoxLayout:
            orientation: 'horizontal'
            pos_hint: {'center_x': 0.5, 'center_y': .05}
            size_hint: (.3, .1)

            Button:
                background_color: 0, 0, 0, 0
                on_press: app.root.current = 'start'
                Image:
                    source: 'images/homeButton.png'
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y
                    size: 50, 50

            Button:
                background_color: 0, 0, 0, 0
                on_press: Factory.VolPopup().open()
                Image:
                    source: 'images/volumeButton.webp'
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y
                    size: 50, 50

            Button:
                background_color: 0, 0, 0, 0
                on_press: root.open_Hof_popup()
                Image:
                    source: 'images/hofButton.webp'
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y
                    size: 50, 50

            Button:
                background_color: 0, 0, 0, 0
                on_press: Factory.CredPopup().open()
                Image:
                    source: 'images/creditButton.png'
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y
                    size: 50, 50